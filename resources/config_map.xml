<plominodatabase id="iol_praticaweb">
  <design>
    <resource id="config_map" title="" type="Script (Python)"><![CDATA[## Script (Python) "config_map"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=test=0
##title=
##
dz = dict(
#inquadramento della mappa
mapSettings = {"scaleControl": True,"tilt":0, "minZoom": 8, "zoom":12, "center": [43.985,8.06], "scrollwheel": False,"mapTypeId":"","coordsrid":3003},
#configurazione dei livelli WMS in mappa
layerSettings = dict(
layers=[{"name":"OSM","type":"TMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://tile.openstreetmap.org","alt":"OpenStreetMap"},
{"name":"particelle","type":"WMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://unionevalmerulamontarosio.istanze-online.it/cgi-bin/mapserv?map=/apps/GisClient-2/mapset/map/unione.map&LAYERS=particelle_606&TRANSPARENT=TRUE","alt":"particelle"},
{"name":"fabbricati","type":"WMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://unionevalmerulamontarosio.istanze-online.it/cgi-bin/mapserv?map=/apps/GisClient-2/mapset/map/unione.map&LAYERS=fabbricati_607&TRANSPARENT=TRUE","alt":"fabbricati"},
{"name":"zone_puc","type":"WMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://unionevalmerulamontarosio.istanze-online.it/cgi-bin/mapserv?map=/apps/GisClient-2/mapset/map/andora_pubblica.map&LAYERS=zonizzazione_3&TRANSPARENT=TRUE","alt":"PUC zone"},
{"name":"serv_puc","type":"WMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://unionevalmerulamontarosio.istanze-online.it/cgi-bin/mapserv?map=/apps/GisClient-2/mapset/map/andora_pubblica.map&LAYERS=servizi_11&TRANSPARENT=TRUE","alt":"PUC Servizi"},
{"name":"cv_puc","type":"WMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://unionevalmerulamontarosio.istanze-online.it/cgi-bin/mapserv?map=/apps/GisClient-2/mapset/map/andora_pubblica.map&LAYERS=concentrazioni_volumetrice_14&TRANSPARENT=TRUE","alt":"PUC Conc. Vol."},
{"name":"sua_puc","type":"WMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://unionevalmerulamontarosio.istanze-online.it/cgi-bin/mapserv?map=/apps/GisClient-2/mapset/map/andora_pubblica.map&LAYERS=sua_21&TRANSPARENT=TRUE","alt":"PUC SUA"},
{"name":"fs_puc","type":"WMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://unionevalmerulamontarosio.istanze-online.it/cgi-bin/mapserv?map=/apps/GisClient-2/mapset/map/andora_pubblica.map&LAYERS=fasce_di_rispetto_12&TRANSPARENT=TRUE","alt":"PUC Fasce di rispetto"},
{"name":"oi_puc","type":"WMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://unionevalmerulamontarosio.istanze-online.it/cgi-bin/mapserv?map=/apps/GisClient-2/mapset/map/andora_pubblica.map&LAYERS=opere_idrauliche_13&TRANSPARENT=TRUE","alt":"PUC Opere idrauliche"},
{"name":"me_puc","type":"WMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://unionevalmerulamontarosio.istanze-online.it/cgi-bin/mapserv?map=/apps/GisClient-2/mapset/map/andora_pubblica.map&LAYERS=manufatti_emergenti_incompatib_20&TRANSPARENT=TRUE","alt":"PUC ME incompatibili"},
{"name":"meex5_puc","type":"WMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://unionevalmerulamontarosio.istanze-online.it/cgi-bin/mapserv?map=/apps/GisClient-2/mapset/map/andora_pubblica.map&LAYERS=manufatti_ex_art_5_23&TRANSPARENT=TRUE","alt":"PUC ME ex art.5"},
{"name":"via_puc","type":"WMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://unionevalmerulamontarosio.istanze-online.it/cgi-bin/mapserv?map=/apps/GisClient-2/mapset/map/andora_pubblica.map&LAYERS=viabilita_22&TRANSPARENT=TRUE"},
{"name":"puc_cesio","type":"WMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://unionevalmerulamontarosio.istanze-online.it/cgi-bin/mapserv?map=/apps/GisClient-2/mapset/map/unione.map&LAYERS=grp_zonizzazione_44&TRANSPARENT=TRUE"},
{"name":"prg_testico","type":"WMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://unionevalmerulamontarosio.istanze-online.it/cgi-bin/mapserv?map=/apps/GisClient-2/mapset/map/unione.map&LAYERS=grp_zonizzazione_57&TRANSPARENT=TRUE"},
{"name":"prg_stella","type":"WMS","maxZoom":18,"minZoom":8,"opacity":0.8,"url":"https://unionevalmerulamontarosio.istanze-online.it/cgi-bin/mapserv?map=/apps/GisClient-2/mapset/map/unione.map&LAYERS=grp_zonizzazione_58&TRANSPARENT=TRUE"},],
#elenco dei livelli nel menu a cascata
layersList=[
    'Particelle|particelle',
    'Fabbricati|fabbricati',
    'Andora PUC zone|zone_puc',
    'Andora PUC SUA|sua_puc',
    'Andora PUC servizi|serv_puc',
    'Andora PUC conc. vol.|cv_puc',
    'Andora PUC fasce rispetto|fs_puc',
    'Andora PUC op. idrauliche|oi_puc',
    'Andora PUC Manufatti emergenti|me_puc',
    'Andora PUC ME ex art.5|meex5_puc',
    '''Andora PUC viabilita'|via_puc''',
    'Cesio PUC|puc_cesio',
    'Stellanello PRG|prg_stella',
    'Testico PRG|prg_testico'
],
types = "OSM,CATASTO,DEM,roadmap,terrain,satellite,hybrid",
layersActive = ['particelle','fabbricati'], #layers attivi in avvio
baseType = "OSM"  #layer di sfondo predefinito in avvio
))

if test=='1':
    from Products.CMFPlomino.PlominoUtils import json_dumps
    return json_dumps(dz)
else:
    return dz

return dz
]]></resource>
  </design>
</plominodatabase>
